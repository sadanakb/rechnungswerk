@import "tailwindcss";

/* ==========================================================================
   RechnungsWerk â€” CSS Custom Properties Design System
   Light theme by default, [data-theme="dark"] for dark mode.
   ========================================================================== */

:root {
  /* --- Background & Foreground --- */
  --background: 248 250 252;        /* slate-50 */
  --foreground: 15 23 42;           /* slate-900 */
  --foreground-muted: 100 116 139;  /* slate-500 */

  /* --- Card / Surface --- */
  --card: 255 255 255;              /* white */
  --card-foreground: 15 23 42;      /* slate-900 */

  /* --- Popover --- */
  --popover: 255 255 255;
  --popover-foreground: 15 23 42;

  /* --- Primary (Trust Blue) --- */
  --primary: 37 99 235;             /* blue-600 */
  --primary-foreground: 255 255 255;
  --primary-hover: 29 78 216;       /* blue-700 */
  --primary-light: 239 246 255;     /* blue-50 */
  --primary-border: 191 219 254;    /* blue-200 */

  /* --- Secondary --- */
  --secondary: 241 245 249;         /* slate-100 */
  --secondary-foreground: 51 65 85; /* slate-700 */
  --secondary-hover: 226 232 240;   /* slate-200 */

  /* --- Muted --- */
  --muted: 248 250 252;             /* slate-50 */
  --muted-foreground: 100 116 139;  /* slate-500 */

  /* --- Accent (Emerald for money/success) --- */
  --accent: 5 150 105;              /* emerald-600 */
  --accent-foreground: 255 255 255;
  --accent-light: 236 253 245;      /* emerald-50 */
  --accent-border: 167 243 208;     /* emerald-200 */

  /* --- Destructive --- */
  --destructive: 220 38 38;         /* red-600 */
  --destructive-foreground: 255 255 255;
  --destructive-light: 254 242 242; /* red-50 */
  --destructive-border: 254 202 202; /* red-200 */

  /* --- Warning --- */
  --warning: 217 119 6;             /* amber-600 */
  --warning-light: 255 251 235;     /* amber-50 */
  --warning-border: 252 211 77;     /* amber-300 */

  /* --- Border & Input --- */
  --border: 226 232 240;            /* slate-200 */
  --border-strong: 203 213 225;     /* slate-300 */
  --input: 255 255 255;
  --input-border: 203 213 225;      /* slate-300 */
  --ring: 37 99 235;                /* blue-600 */
  --ring-offset: 255 255 255;

  /* --- Sidebar --- */
  --sidebar-bg: 255 255 255;
  --sidebar-border: 226 232 240;    /* slate-200 */
  --sidebar-item-hover: 241 245 249; /* slate-100 */
  --sidebar-item-active-bg: 239 246 255; /* blue-50 */
  --sidebar-item-active-text: 37 99 235; /* blue-600 */
  --sidebar-icon: 100 116 139;      /* slate-500 */
  --sidebar-text: 51 65 85;         /* slate-700 */
  --sidebar-brand: 15 23 42;        /* slate-900 */

  /* --- Status colors --- */
  --status-success: 5 150 105;
  --status-warning: 217 119 6;
  --status-error: 220 38 38;
  --status-info: 37 99 235;
  --status-neutral: 100 116 139;

  /* --- Chart colors --- */
  --chart-1: 37 99 235;
  --chart-2: 5 150 105;
  --chart-3: 124 58 237;
  --chart-4: 217 119 6;
  --chart-5: 220 38 38;

  /* --- Radius --- */
  --radius: 0.75rem;
  --radius-sm: 0.375rem;
  --radius-lg: 1rem;
  --radius-full: 9999px;

  /* --- Transition --- */
  --transition-fast: 150ms ease;
  --transition-base: 200ms ease;
  --transition-slow: 300ms ease;

  /* --- Shadows --- */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.07), 0 2px 4px -2px rgb(0 0 0 / 0.05);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.08), 0 4px 6px -4px rgb(0 0 0 / 0.05);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.08), 0 8px 10px -6px rgb(0 0 0 / 0.04);
}

/* ==========================================================================
   Dark Theme
   ========================================================================== */

[data-theme="dark"] {
  /* --- Background & Foreground --- */
  --background: 2 6 23;             /* slate-950 */
  --foreground: 241 245 249;        /* slate-100 */
  --foreground-muted: 148 163 184;  /* slate-400 */

  /* --- Card / Surface --- */
  --card: 15 23 42;                 /* slate-900 */
  --card-foreground: 241 245 249;   /* slate-100 */

  /* --- Popover --- */
  --popover: 15 23 42;
  --popover-foreground: 241 245 249;

  /* --- Primary --- */
  --primary: 59 130 246;            /* blue-500 */
  --primary-foreground: 255 255 255;
  --primary-hover: 96 165 250;      /* blue-400 */
  --primary-light: 23 37 84;        /* blue-950 */
  --primary-border: 30 58 138;      /* blue-800 */

  /* --- Secondary --- */
  --secondary: 30 41 59;            /* slate-800 */
  --secondary-foreground: 203 213 225; /* slate-300 */
  --secondary-hover: 51 65 85;      /* slate-700 */

  /* --- Muted --- */
  --muted: 30 41 59;                /* slate-800 */
  --muted-foreground: 148 163 184;  /* slate-400 */

  /* --- Accent --- */
  --accent: 16 185 129;             /* emerald-500 */
  --accent-foreground: 255 255 255;
  --accent-light: 2 44 34;          /* dark emerald */
  --accent-border: 6 78 59;         /* emerald-900 */

  /* --- Destructive --- */
  --destructive: 239 68 68;         /* red-500 */
  --destructive-foreground: 255 255 255;
  --destructive-light: 69 10 10;    /* dark red */
  --destructive-border: 127 29 29;  /* red-900 */

  /* --- Warning --- */
  --warning: 245 158 11;            /* amber-500 */
  --warning-light: 69 26 3;         /* dark amber */
  --warning-border: 120 53 15;      /* amber-900 */

  /* --- Border & Input --- */
  --border: 30 41 59;               /* slate-800 */
  --border-strong: 51 65 85;        /* slate-700 */
  --input: 15 23 42;                /* slate-900 */
  --input-border: 51 65 85;         /* slate-700 */
  --ring: 59 130 246;               /* blue-500 */
  --ring-offset: 2 6 23;            /* slate-950 */

  /* --- Sidebar --- */
  --sidebar-bg: 15 23 42;           /* slate-900 */
  --sidebar-border: 30 41 59;       /* slate-800 */
  --sidebar-item-hover: 30 41 59;   /* slate-800 */
  --sidebar-item-active-bg: 23 37 84; /* blue-950 */
  --sidebar-item-active-text: 96 165 250; /* blue-400 */
  --sidebar-icon: 148 163 184;      /* slate-400 */
  --sidebar-text: 203 213 225;      /* slate-300 */
  --sidebar-brand: 241 245 249;     /* slate-100 */

  /* --- Status colors --- */
  --status-success: 16 185 129;
  --status-warning: 245 158 11;
  --status-error: 239 68 68;
  --status-info: 59 130 246;
  --status-neutral: 148 163 184;

  /* --- Chart colors --- */
  --chart-1: 59 130 246;
  --chart-2: 16 185 129;
  --chart-3: 167 139 250;
  --chart-4: 251 191 36;
  --chart-5: 248 113 113;

  /* --- Shadows (more subtle on dark bg) --- */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.3);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.3);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.5), 0 8px 10px -6px rgb(0 0 0 / 0.3);
}

/* ==========================================================================
   Base Styles
   ========================================================================== */

*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  /* Smooth theme transitions */
  transition:
    background-color var(--transition-slow),
    color var(--transition-slow);
}

body {
  background-color: rgb(var(--background));
  color: rgb(var(--foreground));
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
    'Helvetica Neue', Arial, sans-serif;
  font-size: 16px;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  min-height: 100vh;
  transition:
    background-color var(--transition-slow),
    color var(--transition-slow);
}

/* Smooth transitions on interactive elements */
a,
button,
input,
select,
textarea {
  transition:
    background-color var(--transition-fast),
    border-color var(--transition-fast),
    color var(--transition-fast),
    box-shadow var(--transition-fast),
    opacity var(--transition-fast);
}

/* Focus ring */
:focus-visible {
  outline: 2px solid rgb(var(--ring));
  outline-offset: 2px;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: rgb(var(--muted));
}

::-webkit-scrollbar-thumb {
  background: rgb(var(--border-strong));
  border-radius: 9999px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgb(var(--foreground-muted));
}

/* ==========================================================================
   Utility Classes (theme-aware)
   ========================================================================== */

/* Background utilities */
.bg-surface { background-color: rgb(var(--card)); }
.bg-page { background-color: rgb(var(--background)); }
.bg-muted { background-color: rgb(var(--muted)); }

/* Text utilities */
.text-primary-color { color: rgb(var(--primary)); }
.text-muted { color: rgb(var(--muted-foreground)); }
.text-foreground { color: rgb(var(--foreground)); }

/* Border utilities */
.border-default { border-color: rgb(var(--border)); }
.border-strong { border-color: rgb(var(--border-strong)); }

/* Card base */
.card-base {
  background-color: rgb(var(--card));
  border: 1px solid rgb(var(--border));
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
  transition:
    background-color var(--transition-slow),
    border-color var(--transition-slow),
    box-shadow var(--transition-base);
}

/* Sidebar base */
.sidebar-base {
  background-color: rgb(var(--sidebar-bg));
  border-color: rgb(var(--sidebar-border));
  transition: background-color var(--transition-slow), border-color var(--transition-slow);
}

/* Input base */
.input-base {
  background-color: rgb(var(--input));
  border-color: rgb(var(--input-border));
  color: rgb(var(--foreground));
  transition:
    background-color var(--transition-slow),
    border-color var(--transition-fast);
}

/* Confidence dot animations */
@keyframes pulse-dot {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.7; transform: scale(1.2); }
}

.confidence-dot-animate {
  animation: pulse-dot 2s ease-in-out infinite;
}

/* Drag-over glow effect */
@keyframes drag-glow {
  0%, 100% { box-shadow: 0 0 0 0 rgb(var(--primary) / 0.3); }
  50% { box-shadow: 0 0 0 8px rgb(var(--primary) / 0); }
}

.drag-active-glow {
  animation: drag-glow 1.5s ease-in-out infinite;
}

/* Fade-in-up animation */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.4s ease-out forwards;
}

/* Skeleton shimmer */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.skeleton {
  background: linear-gradient(
    90deg,
    rgb(var(--muted)) 25%,
    rgb(var(--secondary)) 50%,
    rgb(var(--muted)) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: var(--radius-sm);
}
